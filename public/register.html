<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CodeCrowds - Register</title>
    <!-- Absolute path so assets load regardless of mount point -->
    <!-- Load global site styles first so page-specific CSS can override as needed -->
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="/register.css" />
  </head>
  <body>
    <main class="auth-page">
      <section class="card" aria-labelledby="registerTitle">
        <header class="card-header">
          <h1 id="registerTitle">Create your account</h1>
          <p class="subtle">
            Join CodeCrowds and start offering your services.
          </p>
        </header>

        <form id="registerForm" novalidate>
          <!-- Username -->
          <div class="field">
            <label for="registerUsername">Username</label>
            <input
              id="registerUsername"
              name="username"
              type="text"
              placeholder="e.g. dev_ally"
              autocomplete="username"
              required
              minlength="3"
              maxlength="32"
            />
            <small class="hint"
              >3-32 characters, letters/numbers/underscores.</small
            >
          </div>

          <!-- Email -->
          <div class="field">
            <label for="registerEmail">Email</label>
            <input
              id="registerEmail"
              name="email"
              type="email"
              placeholder="you@example.com"
              autocomplete="email"
              required
              inputmode="email"
            />
          </div>

          <!-- Password with toggle + strength -->
          <div class="field">
            <label for="registerPassword">Password</label>
            <div class="password-row">
              <input
                id="registerPassword"
                name="password"
                type="password"
                placeholder="Create a strong password"
                autocomplete="new-password"
                required
                minlength="8"
              />
              <button
                type="button"
                class="btn-icon"
                id="togglePassword"
                aria-controls="registerPassword"
                aria-pressed="false"
                title="Show password"
              >
                Show
              </button>
            </div>
            <div
              class="strength"
              aria-live="polite"
              id="passwordStrength"
              aria-describedby="strengthHelp"
            ></div>
            <small id="strengthHelp" class="hint"
              >Use at least 8 characters with a mix of letters, numbers, and
              symbols.</small
            >
          </div>

          <!-- Description / Bio -->
          <div class="field">
            <label for="registerDescription"
              >Tell us about yourself (optional)</label
            >
            <textarea
              id="registerDescription"
              name="description"
              rows="4"
              placeholder="What do you offer? What are your skills?"
              maxlength="400"
            ></textarea>
            <div class="meta-row">
              <small class="hint" id="descCounter">0 / 400</small>
            </div>
          </div>

          <!-- Submit / message / switch (grouped) -->
          <div class="form-actions">
            <button type="submit" class="btn-primary" id="submitBtn">
              Create account
            </button>
          </div>

          <!-- Live message -->
          <p
            id="registerMessage"
            class="message"
            role="status"
            aria-live="polite"
          ></p>

          <p class="switch">
            Already have an account?
            <a href="/index.html">Log in</a>
          </p>
        </form>
      </section>
    </main>

    <!-- If JS is disabled, show a short notice.
       The <noscript> content appears only when scripting is disabled. -->
    <noscript class="message error noscript-note">
      <span class="noscript-icon" aria-hidden="true">⚠️</span>
      <span class="noscript-text"
        >JavaScript is required to register. Please enable JavaScript in your
        browser.</span
      >
    </noscript>

    <!-- External JS (deferred) -->
    <script src="/register.js" defer></script>
  </body>
</html>

