/* public/services.css
   Services page: keep functionality (grid, modal, toast)
   BUT do NOT override html/body background or .container styling.
   style.css owns the theme.
*/

/* ---------- Visually Hidden ---------- */
.sr-only{
  position:absolute !important;
  width:1px;height:1px;
  padding:0;margin:-1px;
  overflow:hidden;
  clip:rect(0,0,1px,1px);
  clip-path:inset(50%);
  white-space:nowrap;
  border:0;
}

/* ---------- Page spacing wrapper (if your HTML uses it) ---------- */
.profile-wrapper{
  max-width: var(--max-width);
  margin: 0 auto;
  padding: 24px 16px 40px;
}

/* ---------- Controls (search + sort) ---------- */
.controls{
  display:flex;
  gap:10px;
  justify-content:flex-start;
  align-items:center;
  flex-wrap:wrap;
  margin-top: 6px;
}

.controls input{
  width: min(360px, 100%);
}

/* Keep selects/inputs consistent (style.css already styles inputs) */
.controls input,
.controls select{
  max-width:100%;
}

/* ---------- Actions rows ---------- */
.actions-row{
  display:flex;
  gap:10px;
  justify-content:flex-start;
  align-items:center;
  flex-wrap:wrap;
}

/* ---------- Services Grid ---------- */
#services-list{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(260px, 1fr));
  gap:20px;
  margin-top: 12px;
  align-items:start;
}

/* ---------- Service Card (match index glass cards) ---------- */
.service-card{
  background: var(--surface-2);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  padding: var(--space-md);
  box-shadow: var(--shadow-1);
  color: var(--text);
  text-align:left;
  transition: transform 200ms ease, box-shadow 200ms ease;
}

:root[data-theme="light"] .service-card{
  background: var(--surface);
}

.service-card:hover{
  transform: translateY(-6px);
  box-shadow: 0 18px 36px rgba(0,0,0,0.12);
}

.service-card h3{
  margin:0 0 8px;
  color: var(--brand-b);
  font-size: 1.1rem;
}

.service-card p{
  margin:6px 0;
  color: var(--muted);
}

.service-card .username{
  font-style:italic;
  opacity:0.9;
}

/* Small layout tune for the message button area */
.card-actions{
  margin-top:10px;
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  align-items:center;
}

/* ---------- Spinner ---------- */
.spinner{
  display:inline-block;
  width:20px;
  height:20px;
  border:3px solid rgba(148,163,184,0.35);
  border-top-color: var(--brand-b);
  border-radius:50%;
  animation: spin 0.8s linear infinite;
}
@keyframes spin{ to{ transform: rotate(360deg); } }

/* ---------- Modal ---------- */
/* NOTE: style.css already defines #messageModal too.
   This keeps it themed and consistent. */
#messageModal{
  display:none;
  position:fixed;
  inset:0;
  background: rgba(15,23,42,0.65);
  justify-content:center;
  align-items:center;
  z-index: 9999;
}

#messageModal .modal-content,
.modal-content{
  width: min(90vw, 520px);
  max-width: 520px;
  border-radius: 16px;
  padding: 20px;
  background: var(--surface-2);
  border: 1px solid rgba(186,160,210,0.45);
  color: var(--text);
  box-shadow: 0 18px 40px rgba(0,0,0,0.45);
  display:flex;
  flex-direction:column;
  gap:10px;
  overflow:hidden;
}

:root[data-theme="light"] #messageModal .modal-content,
:root[data-theme="light"] .modal-content{
  background: #ffffff;
  color:#111827;
  border-color:#e2e8f0;
}

/* Defensive wrapper (extensions like Grammarly) */
.field-wrap{
  position:relative;
  width:100%;
}

/* Textarea inside modal */
#messageContent{
  display:block;
  width:100%;
  max-width:100%;
  padding:10px 12px;
  padding-right:56px;
  border-radius:12px;
  border:1px solid var(--input-border);
  background: var(--input-bg);
  color: var(--input-text);
  resize:vertical;
  min-height:120px;
  font-size:1rem;
  box-sizing:border-box;
}

#messageContent::placeholder{
  color: var(--input-placeholder);
}

/* Inline error beneath textarea */
.error-inline{
  margin:4px 2px 0;
  color:#ff4d4f;
  font-size:0.9rem;
}

.modal-actions{
  display:flex;
  gap:8px;
  justify-content:flex-end;
  flex-wrap:wrap;
}

.modal-meta{
  display:flex;
  justify-content:flex-end;
  font-size:0.9rem;
  color: var(--muted);
}

/* ---------- Toast ---------- */
#toast{
  position:fixed;
  left:50%;
  bottom:24px;
  transform:translateX(-50%);
  background: rgba(2,6,23,0.92);
  color: var(--text);
  padding:10px 14px;
  border-radius:8px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.3);
  opacity:0;
  pointer-events:none;
  transition: opacity 0.25s, transform 0.25s;
  z-index: 10000;
  max-width:80vw;
  font-size:0.95rem;
  border: 1px solid rgba(186,160,210,0.25);
}
#toast.show{
  opacity:1;
  transform:translateX(-50%) translateY(-6px);
}

/* ---------- Attempt list ---------- */
.attempt-list{
  margin: 6px 0 0 18px;
}

/* ---------- IMPORTANT: hide the stray bottom-left composer ---------- */
/* You should only see the modal (#messageModal) when messaging */
#messageBox,
#messageForm,
#messageSection,
.message-box,
.message-composer{
  display:none !important;
}

/* ---------- Responsive ---------- */
@media (max-width: 480px){
  .profile-wrapper{ padding: 18px 12px 32px; }
}
