/* public/projects.css
   projects page (Surreal Systems) â€” layout + modal + toast ONLY.
   NO html/body background. NO .container styling. NO global button styling.
   style.css owns the theme.
*/

/* ---------- Reset helpers ---------- */
*,
*::before,
*::after { box-sizing: border-box; }

html, body, .container, .card, .row, .meta-row { min-width: 0; }

img, video { max-width: 100%; height: auto; display: block; }

/* ---------- Visually Hidden ---------- */
.sr-only{
  position:absolute !important;
  width:1px;height:1px;
  padding:0;margin:-1px;
  overflow:hidden;
  clip:rect(0,0,1px,1px);
  clip-path:inset(50%);
  white-space:nowrap;
  border:0;
}

/* ---------- Controls / actions ---------- */
.controls{
  display:flex;
  gap:10px;
  justify-content:flex-start;
  flex-wrap:wrap;
  margin-top: 6px;
}

.controls input{ width: min(360px, 100%); }

.actions-row{
  display:flex;
  gap:10px;
  justify-content:flex-start;
  flex-wrap:wrap;
}

/* ---------- projects grid ---------- */
#projects-list{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap:20px;
  align-items:start;
  margin-top: 12px;
}

/* ---------- project card: match index glass ---------- */
.project-card{
  background: var(--surface-2);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  padding: var(--space-md);
  box-shadow: var(--shadow-1);
  color: var(--text);
  text-align:left;
  transition: transform 200ms ease, box-shadow 200ms ease;
  overflow-wrap:anywhere;
  word-break:break-word;
  -webkit-hyphens:auto;
  hyphens:auto;
}

:root[data-theme="light"] .project-card{ background: var(--surface); }

.project-card:hover{
  transform: translateY(-6px);
  box-shadow: 0 18px 36px rgba(0,0,0,0.12);
}

.project-card h3{
  margin:0 0 8px;
  color: var(--brand-b);
  font-size: 1.1rem;
}

.project-card p{ margin:6px 0; color: var(--muted); }

.project-card .username{
  font-style: italic;
  opacity: 0.9;
}

/* button row inside cards (style.css styles buttons) */
.card-actions{
  margin-top:10px;
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  align-items:center;
}

/* ---------- New project editor section ---------- */
.new-project{
  display:none;
  flex-direction:column;
  gap:10px;
  margin-top:10px;
  text-align:left;
}
.new-project.show-flex{ display:flex; }

.input-number{ max-width:200px; }

/* ---------- Spinner ---------- */
.spinner{
  display:inline-block;
  width:20px;
  height:20px;
  border:3px solid rgba(148,163,184,0.35);
  border-top-color: var(--brand-b);
  border-radius:50%;
  animation: spin 0.8s linear infinite;
}
@keyframes spin{ to{ transform: rotate(360deg); } }

/* ---------- Message modal ---------- */
#messageModal{
  display:none;
  position:fixed;
  inset:0;
  background: rgba(15,23,42,0.65);
  justify-content:center;
  align-items:center;
  z-index: 9999;
}

#messageModal .modal-content,
.modal-content{
  width: min(90vw, 520px);
  max-width: 520px;
  border-radius: 16px;
  padding: 20px;
  background: var(--surface-2);
  border: 1px solid rgba(186,160,210,0.45);
  color: var(--text);
  box-shadow: 0 18px 40px rgba(0,0,0,0.45);
  display:flex;
  flex-direction:column;
  gap:10px;
  overflow:hidden;
}

:root[data-theme="light"] #messageModal .modal-content,
:root[data-theme="light"] .modal-content{
  background:#ffffff;
  color:#111827;
  border-color:#e2e8f0;
}

.field-wrap{ position:relative; width:100%; }

#messageContent{
  display:block;
  width:100%;
  max-width:100%;
  padding:10px 12px;
  padding-right:56px;
  border-radius:12px;
  border:1px solid var(--input-border);
  background: var(--input-bg);
  color: var(--input-text);
  resize:vertical;
  min-height:120px;
  font-size:1rem;
  box-sizing:border-box;
}

#messageContent::placeholder{ color: var(--input-placeholder); }

.error-inline{
  margin:4px 2px 0;
  color: var(--danger);
  font-size:0.9rem;
}

.modal-actions{
  display:flex;
  gap:8px;
  justify-content:flex-end;
  flex-wrap:wrap;
}
.modal-meta{
  display:flex;
  justify-content:flex-end;
  font-size:0.9rem;
  color: var(--muted);
}

/* ---------- Toast ---------- */
#toast{
  position:fixed;
  left:50%;
  bottom:24px;
  transform:translateX(-50%);
  background: rgba(2,6,23,0.92);
  color: var(--text);
  padding:10px 14px;
  border-radius:8px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.3);
  opacity:0;
  pointer-events:none;
  transition: opacity 0.25s, transform 0.25s;
  z-index: 10000;
  max-width:80vw;
  font-size:0.95rem;
  border: 1px solid rgba(186,160,210,0.25);
}
#toast.show{
  opacity:1;
  transform:translateX(-50%) translateY(-6px);
}

/* Attempt list */
.attempt-list{ margin: 6px 0 0 18px; }

/* IMPORTANT: hide stray bottom-left composer if old HTML exists */
#messageBox,
#messageForm,
#messageSection,
.message-box,
.message-composer{
  display:none !important;
}

/* Responsive */
@media (max-width: 480px){
  .container{ width:94%; }
}
