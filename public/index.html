<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CodeCrowds - Showcase & Sell Your Skills</title>

    <!-- make API_URL sensible for local testing; override in production if needed -->
    <script>
      // Replace with your real API host that accepts POST /users/login
      window.API_URL = 'https://your-api-host.example.com/api';
      console.info("Init: API_URL =", window.API_URL);
    </script>

    <!-- external stylesheet (no inline CSS) -->
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <div class="container container--transparent fade-in">
      <header role="banner" class="site-header">
        <!-- H1 for SEO / accessibility (visually hidden) -->
        <h1 class="visually-hidden">Code Crowds</h1>

        <!-- logos area: three accessible panels (only one visible at a time) -->
        <div class="logo-wrap" aria-hidden="false">
          <!-- 1) Monogram + Wordmark (default active) -->
          <div
            id="logo-monogram"
            class="logo-variant active"
            role="tabpanel"
            aria-labelledby="tab-monogram"
            aria-hidden="false"
          >
            <a class="site-logo" href="/" aria-label="Code Crowds home — monogram">
              <svg viewBox="0 0 240 48" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="monTitle monDesc">
                <title id="monTitle">Code Crowds</title>
                <desc id="monDesc">Monogram and wordmark for Code Crowds</desc>
                <defs>
                  <linearGradient id="brandGrad1" x1="0" x2="1" y1="0" y2="1">
                    <stop offset="0" stop-color="#4e54c8"/>
                    <stop offset="1" stop-color="#00aaff"/>
                  </linearGradient>
                  <filter id="monoShadow" x="-50%" y="-50%" width="200%" height="200%">
                    <feDropShadow dx="0" dy="8" stdDeviation="12" flood-color="#08102a" flood-opacity="0.12"/>
                  </filter>
                </defs>

                <!-- Monogram -->
                <g transform="translate(0,0)">
                  <rect x="0" y="0" width="48" height="48" rx="10" fill="url(#brandGrad1)" filter="url(#monoShadow)"/>
                  <path d="M16 14 A8 8 0 1 0 16 34" fill="none" stroke="#fff" stroke-width="3.8" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M30 14 A8 8 0 1 0 30 34" fill="none" stroke="#fff" stroke-width="3.8" stroke-linecap="round" stroke-linejoin="round"/>
                </g>

                <!-- Wordmark -->
                <g transform="translate(64,34)" font-family="Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial" font-weight="700">
                  <text x="0" y="0" font-size="22" fill="#ffffff" letter-spacing="0.3">Code</text>
                  <text x="58" y="0" font-size="22" fill="#ffffff" opacity="0.94" letter-spacing="0.3">Crowds</text>
                </g>
              </svg>
            </a>
          </div>

          <!-- 2) Wordmark only -->
          <div
            id="logo-wordmark"
            class="logo-variant"
            role="tabpanel"
            aria-labelledby="tab-wordmark"
            aria-hidden="true"
          >
            <a class="site-logo" href="/" aria-label="Code Crowds home — wordmark">
              <svg viewBox="0 0 320 48" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="wordTitle wordDesc">
                <title id="wordTitle">Code Crowds</title>
                <desc id="wordDesc">Wordmark for Code Crowds</desc>
                <defs>
                  <linearGradient id="brandGrad2" x1="0" x2="1" y1="0" y2="1">
                    <stop offset="0" stop-color="#4e54c8"/>
                    <stop offset="1" stop-color="#00aaff"/>
                  </linearGradient>
                </defs>

                <g transform="translate(0,32)" font-family="Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial" font-weight="800">
                  <text x="0" y="0" font-size="24" fill="url(#brandGrad2)" letter-spacing="0.6">Code</text>
                  <text x="90" y="0" font-size="24" fill="#ffffff" opacity="0.95" font-weight="700" letter-spacing="0.4">Crowds</text>
                </g>
              </svg>
            </a>
          </div>

          <!-- 3) Emblem / Badge -->
          <div
            id="logo-badge"
            class="logo-variant"
            role="tabpanel"
            aria-labelledby="tab-badge"
            aria-hidden="true"
          >
            <a class="site-logo" href="/" aria-label="Code Crowds home — badge">
              <svg viewBox="0 0 240 48" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="badgeTitle badgeDesc">
                <title id="badgeTitle">Code Crowds</title>
                <desc id="badgeDesc">Badge logo for Code Crowds</desc>
                <defs>
                  <linearGradient id="brandGrad3" x1="0" x2="1" y1="0" y2="1">
                    <stop offset="0" stop-color="#4e54c8"/>
                    <stop offset="1" stop-color="#00aaff"/>
                  </linearGradient>
                  <filter id="badgeShadow" x="-50%" y="-50%" width="200%" height="200%">
                    <feDropShadow dx="0" dy="8" stdDeviation="12" flood-color="#08102a" flood-opacity="0.12"/>
                  </filter>
                </defs>

                <g transform="translate(0,0)">
                  <circle cx="24" cy="24" r="24" fill="url(#brandGrad3)" filter="url(#badgeShadow)"/>
                  <path d="M30 16 L22 24 L30 32" fill="none" stroke="#fff" stroke-width="2.6" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M6 16 L14 24 L6 32" fill="none" stroke="#fff" stroke-width="2.6" stroke-linecap="round" stroke-linejoin="round"/>
                  <g transform="translate(10,28)">
                    <circle cx="8" cy="0" r="1.8" fill="#ffffff" opacity="0.95"/>
                    <circle cx="14" cy="0" r="1.8" fill="#ffffff" opacity="0.95"/>
                    <circle cx="20" cy="0" r="1.8" fill="#ffffff" opacity="0.95"/>
                  </g>
                </g>

                <g transform="translate(56,34)" font-family="Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial" font-weight="700">
                  <text x="0" y="0" font-size="20" fill="#ffffff">Code</text>
                  <text x="54" y="0" font-size="20" fill="#ffffff" opacity="0.92">Crowds</text>
                </g>
              </svg>
            </a>
          </div>
        </div>

        <!-- logo selector (accessible tablist) -->
        <div class="logo-controls" role="tablist" aria-label="Logo variants">
          <button type="button" id="tab-monogram" role="tab" aria-selected="true" aria-controls="logo-monogram" tabindex="0" data-target="logo-monogram">Monogram</button>
          <button type="button" id="tab-wordmark" role="tab" aria-selected="false" aria-controls="logo-wordmark" tabindex="-1" data-target="logo-wordmark">Wordmark</button>
          <button type="button" id="tab-badge" role="tab" aria-selected="false" aria-controls="logo-badge" tabindex="-1" data-target="logo-badge">Badge</button>
        </div>
      </header>

      <main>
        <section class="features" aria-label="Highlights">
          <article class="feature-card card">
            <h3>Offer Your Services</h3>
            <p>Create posts to sell your coding skills and get noticed by clients worldwide.</p>
          </article>

          <article class="feature-card card">
            <h3>Connect & Collaborate</h3>
            <p>Rate and interact with other developers, build credibility, and grow your network.</p>
          </article>

          <article class="feature-card card">
            <h3>Ad-Free & Premium</h3>
            <p>Upgrade to premium for extra features like ad-free experience, lower fees, and more visibility.</p>
          </article>
        </section>

        <aside class="login-container card" aria-labelledby="login-heading">
          <h2 id="login-heading">Login</h2>

          <form id="loginForm" novalidate>
            <label for="loginEmail" class="visually-hidden">Email</label>
            <input id="loginEmail" name="email" type="email" class="input" placeholder="Email" autocomplete="username" required />

            <label for="loginPassword" class="visually-hidden">Password</label>
            <input id="loginPassword" name="password" type="password" class="input" placeholder="Password" autocomplete="current-password" required />

            <button type="submit" class="btn btn--primary">Login</button>
          </form>

          <p id="loginMessage" class="message" role="status" aria-live="polite"></p>
          <p class="signup-switch">Don't have an account? <a href="register.html">Sign up here</a></p>
        </aside>
      </main>

      <footer class="site-footer" role="contentinfo">
        &copy; <span id="year"></span> Code Crowds. All rights reserved.
      </footer>
    </div>

    <nav class="action-rail" aria-label="Quick actions">
      <a class="btn" href="services.html" role="button">Services</a>
      <a class="btn" href="messages.html" role="button">Messages</a>
      <a class="btn btn--primary" href="services.html#new" role="button">+ Service</a>
      <a class="btn" href="profile.html" role="button">Edit Bio</a>
    </nav>

    <div class="mobile-button-row" role="navigation" aria-label="Quick actions">
      <button onclick="location.href='services.html'">Services</button>
      <button onclick="location.href='messages.html'">Messages</button>
      <button onclick="location.href='services.html#new'">+ Service</button>
    </div>

    <script>
      try { document.getElementById('year').textContent = new Date().getFullYear(); } catch(e){/*ignore*/}
    </script>

    <!-- Accessible tab behavior for logo preview -->
    <script>
      (function () {
        const tabs = Array.from(document.querySelectorAll('.logo-controls [role="tab"]'));
        const panels = Array.from(document.querySelectorAll('.logo-variant[role="tabpanel"]'));

        function activateTab(tab) {
          tabs.forEach(t => {
            const active = t === tab;
            t.setAttribute('aria-selected', active ? 'true' : 'false');
            t.setAttribute('tabindex', active ? '0' : '-1');
          });

          panels.forEach(p => {
            const isActive = p.id === tab.dataset.target;
            p.classList.toggle('active', isActive);
            p.setAttribute('aria-hidden', isActive ? 'false' : 'true');
          });

          tab.focus();
        }

        function handleKeyDown(e, index) {
          const key = e.key;
          let nextIndex = null;
          if (key === 'ArrowRight') nextIndex = (index + 1) % tabs.length;
          else if (key === 'ArrowLeft') nextIndex = (index - 1 + tabs.length) % tabs.length;
          else return;
          e.preventDefault();
          activateTab(tabs[nextIndex]);
        }

        tabs.forEach((tab, i) => {
          tab.addEventListener('click', () => activateTab(tab));
          tab.addEventListener('keydown', (e) => {
            if (e.key === ' ' || e.key === 'Enter') { e.preventDefault(); activateTab(tab); }
            else if (e.key === 'ArrowRight' || e.key === 'ArrowLeft') handleKeyDown(e, i);
          });
        });

        // init
        (function init() {
          const activeTab = tabs.find(t => t.getAttribute('aria-selected') === 'true') || tabs[0];
          panels.forEach(p => {
            const show = p.id === activeTab.dataset.target;
            p.classList.toggle('active', show);
            p.setAttribute('aria-hidden', show ? 'false' : 'true');
          });
          tabs.forEach(t => t.setAttribute('tabindex', t.getAttribute('aria-selected') === 'true' ? '0' : '-1'));
        })();
      })();
    </script>

    <script src="init.js"></script>
    <script type="module" src="script.js"></script>
  </body>
</html>
